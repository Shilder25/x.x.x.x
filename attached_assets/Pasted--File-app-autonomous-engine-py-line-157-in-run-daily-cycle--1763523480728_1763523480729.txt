  File "/app/autonomous_engine.py", line 157, in run_daily_cycle
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/autonomous_engine.py", line 444, in _evaluate_event_opportunity
    firm_result = self._process_firm_multi_category_cycle(firm_name, events_by_category)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    prediction = self._get_firm_prediction(firm_name, event_description, symbol or '', market_id)
  File "/app/autonomous_engine.py", line 313, in _process_firm_multi_category_cycle
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/autonomous_engine.py", line 965, in _get_firm_prediction
    prediction = firm.generate_prediction(prompt)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
  File "/root/.nix-profile/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    raise self._exception
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = action(retry_state)
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 400, in <lambda>
             ^^^^^^^^^^^^^^^^^^^
    self._add_action_func(lambda rs: rs.outcome.result())
  File "/app/llm_clients.py", line 191, in generate_prediction
                                     ^^^^^^^^^^^^^^^^^^^
  File "/root/.nix-profile/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    response = self.client.models.generate_content(
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/google/genai/models.py", line 5056, in generate_content
    response = self._generate_content(
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/google/genai/models.py", line 3843, in _generate_content
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    response = self._api_client.request(
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1331, in request
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    response = self._request(http_request, http_options, stream=False)
    result = action(retry_state)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
  File "/opt/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1167, in _request
  File "/opt/venv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
                                     ^^^^^^^^^^^^^^^^^^^
    response = self._send_handling_redirects(
  File "/opt/venv/lib/python3.12/site-packages/httpx/_client.py", line 825, in request
  File "/root/.nix-profile/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
  File "/root/.nix-profile/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1137, in _request_once
    response = self._httpx_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    response = self._send_single_request(request)
    raise exc from None
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
  File "/opt/venv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = connection.handle_request(
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpx/_transports/default.py", line 250, in handle_request
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_backends/sync.py", line 128, in read
    return self._sock.recv(max_bytes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.nix-profile/lib/python3.12/ssl.py", line 1232, in recv
    return self.read(buflen)
           ^^^^^^^^^^^^^^^^^
  File "/root/.nix-profile/lib/python3.12/ssl.py", line 1105, in read
    return self._sslobj.read(len)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/gunicorn/workers/base.py", line 204, in handle_abort
    raise exc
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.12/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    sys.exit(1)
SystemExit: 1
100.64.0.4 - - [19/Nov/2025:03:36:37 +0000] "POST /admin/trigger-cycle HTTP/1.1" 500 0 "-" "-"
[2025-11-19 03:36:37 +0000] [815] [INFO] Worker exiting (pid: 815)
[2025-11-19 03:36:38 +0000] [940] [INFO] Booting worker with pid: 940
================================================================================
[DEBUG] RAILWAY ENVIRONMENT VARIABLE CHECK - API.PY STARTUP
================================================================================
OPINION_TRADE_API_KEY: SET (len=32)
OPINION_WALLET_PRIVATE_KEY: SET (len=64)
RAILWAY_ENVIRONMENT: production
RAILWAY_SERVICE_NAME: keen-essence
================================================================================